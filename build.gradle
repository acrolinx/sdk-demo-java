plugins {
	id 'java'
	id 'application'
	id 'jacoco'
	id 'org.sonarqube' version '4.0.0.2929'
	id 'com.diffplug.spotless' version '6.13.0'
}

dependencies {
	implementation 'com.acrolinx.client:sdk:1.0.22'
	implementation 'org.slf4j:slf4j-api:2.0.9'
	runtimeOnly 'ch.qos.logback:logback-classic:1.3.8'
}

repositories {
	mavenCentral()
}

group 'com.acrolinx.client'
version '1.0.12'

sourceCompatibility = JavaVersion.VERSION_1_8
targetCompatibility = JavaVersion.VERSION_1_8

application {
	mainClassName = 'com.acrolinx.client.demo.SdkDemo'
}

java {
	withJavadocJar()
	withSourcesJar()
}

sonar {
	properties {
		property "sonar.projectKey", "acrolinx_sdk-demo-java"
		property "sonar.organization", "acrolinx"
		property "sonar.host.url", "https://sonarcloud.io"
	}
}

jacocoTestReport {
	dependsOn test
	reports {
		xml.required = true
	}
}

spotless {
	java {
		importOrder()
		removeUnusedImports()
		googleJavaFormat()
	}
	format 'misc', {
		target '*.gradle', '*.md', '.gitignore', '*.sh'

		indentWithTabs()
		trimTrailingWhitespace()
		endWithNewline()
	}
}
